import gsap from 'gsap';

export function wordBlinkAnimation(element, isGreaterOrEqualMd) {
  const originalText = element.textContent;
  element.textContent = '';

  const wordSpans = originalText.split(' ').map((word, index) => {
    const span = document.createElement('span');
    span.textContent = word;
    span.style.display = 'inline-block';
    span.style.opacity = `${((Math.random() * 90) / 100).toFixed(2)}`;
    if (index === 0) {
      span.style.textIndent = isGreaterOrEqualMd ? '56px' : '40px';
    }
    element.appendChild(span);

    const blankSpace = document.createElement('span');
    blankSpace.textContent = '\u00A0';
    blankSpace.style.display = 'inline-block';
    element.appendChild(blankSpace);

    return span;
  });

  wordSpans.forEach((wordSpan, index) => {
    gsap.to(wordSpan, {
      duration: 0.4,
      opacity: ((Math.random() * 90) / 100).toFixed(2),
      repeat: 3,
    });

    gsap.to(wordSpan, {
      duration: 0.2,
      opacity: 1,
      delay: 1.4,
    });
  });
}


import gsap from 'gsap';

export function wordBlinkAnimation(element, isGreaterOrEqualMd, parentElement) {
  const originalText = element.textContent;
  element.textContent = '';

  let wordSpans = originalText.split(' ').map((word, index) => {
    const span = document.createElement('span');
    span.textContent = word;
    span.style.display = 'inline-block';
    span.style.opacity = `${((Math.random() * 90) / 100).toFixed(2)}`;
    if (index === 0) {
      span.style.textIndent = isGreaterOrEqualMd ? '56px' : '40px';
    }
    element.appendChild(span);

    const blankSpace = document.createElement('span');
    blankSpace.textContent = '\u00A0';
    blankSpace.style.display = 'inline-block';
    element.appendChild(blankSpace);

    return span;
  });

  wordSpans.forEach((wordSpan, index) => {
    const randomDuration = Math.random() * 0.1 + 0.1;
    const randomDelay = Math.random() * 0.3;

    gsap.to(wordSpan, {
      duration: randomDuration,
      opacity: () => Math.random(),
      repeat: 7,
      yoyo: true,
      ease: 'power1.inOut',
      delay: randomDelay,
      onComplete: () => {
        gsap.set(wordSpan, { opacity: 1 });
      },
    });
  });
}

